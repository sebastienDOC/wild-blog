<section class="container">
  <button (click)="toggleAllArticles()" class="big-button">
    Toggle All Articles
  </button>
  @if(!hasPublishedArticles()) {
    <div class="center">
      <h2>Aucun article publiÃ©</h2>
    </div>
  } @else {
    <ul class="list-container">
      @for (article of articles; track $index) {
        <li class="article-card" [ngClass]="{'popular-article' : article.likes > 100}">
          <button (click)="togglePublication(article)">
            {{ article.isPublished ? 'Retirer l\'article' : 'Afficher l\'article' }}
          </button>
          @if (article.likes > 100) {
            <div class="popular">Popular</div>
          }
          <div
            [ngStyle]="{
              color: article.likes > 150 ? 'green' : 'black',
              display : article.isPublished ? 'block' : 'none'
            }"
            class="article-bottom">
            <div class="rounded-likes">
              {{article.likes}}
              <p>ðŸ‘Œ</p>
            </div>
            <div >
              <h2>{{ article.title }}</h2>
              <img [src]="article.image" [alt]="article.title"/>
              <p>{{ article.content }}</p>
              <p><strong>Auteur:</strong> {{ article.author }}</p>
            </div>
            <div class="article-com">
              <label for="comment">Ajouter un commentaire : </label>
              <input id="comment" type="text" [(ngModel)]="article.comment">
              <p><strong>Commentaire : </strong>{{ article.comment }}</p>
            </div>
          </div>
        </li>
        }
    </ul>
  }
</section>

